中国儿童戏剧网站后台文档

一、用户模块
	1. 用户注册
		请求方式:	POST
		请求url：	/user/register
		
		请求参数:
				username	 	用户名		
				email			邮箱			邮箱格式
			 	password 		密码			长度为6-20的字母和数字组成的字符串
				re_passowrd		确认密码		长度为6-20的字母和数字组成的字符串

		返回参数：
				{
					errCode:xxx,			错误码	0表示返回正常	 
					message:xxx			提示信息
				}

	2. 用户登录
	2.1 更换验证码
	 	请求方式:	GET
		请求url:	/user/captcha

		请求参数:	
				无

		返回参数:	验证码图片

	2.2 验证验证码
		请求方式:	POST
		请求url:	/user/check_captcha
		
		请求参数:	
				captcha

		返回参数:	
				{
					errCode:xxx,			错误码	0表示返回正常	 
					message:xxx			提示信息
				}
	2.3 用户登录
		请求方式:	POST
		请求url:	/user/login

		请求参数:
				username		用户名	字符串
				password		密码		长度为6-20的字母和数字组成的字符串		  
				captcha		验证码	长度为5的字符串
		

		返回参数:	
				{
					errCode:xxx,			错误码	0表示返回正常	 
					message:xxx			提示信息
				}

二、在线报名模块
	1. 成绩查询
		请求方式:	POST
		请求url:	/user/score_inquiry

		请求参数:
				scorenumber		编号		string
				name			姓名		string

		返回参数:
				{
					errCode:xxx,			错误码	0表示返回正常	 
					message:xxx			提示信息
				},
				application:[		报名表对象	正常返回时返回此对象
					  name:xxx,			名字
					  scorenumber:xxx,		编号
					  score:xxx			分数
				]

		备注:		登录可操作

	2. 在线报名
		请求方式:	POST
		请求url:	/user/ application

		请求参数:
				name			姓名		string(必填字段)
				gender		性别		boolean类型,0男,1女;2表示未知
				year			出生年	integer
				month			出生月	integer
				day			出生日	integer
				hometown		籍贯		string
				address		居住地址	string
				guardian		监护人	string
				phone			手机		string(必填字段)
				unit			单位		string
				position		职务 		string
				QQ			QQ		string
				school			所在学校	string
				postcode		邮编		string
				trainingunit		培训单位	string
				profession		行当		string
				timeoflearn		学戏时间	string
				details			详细说明	text

		返回参数:
				{
					errCode:xxx,			错误码	0表示返回正常	 
					message:xxx			提示信息
				}
		
		备注:登录可操作

三、个人中心模块
	1.空间首页
		请求方式:	GET
		请求url:	/user/space_home/:user_id

		请求参数:	
				user_id		被访问用户id		根据id去到首页

		返回参数:	视图
				realname		真实姓名
				city			所在城市
				gender		性别
				per_description	我的简介

				albums:[		相册的数组
					{
					title,					相册名称
					pictureCount,				相册图片数
					picture					相册封面图片
					},
					....
				]
				topics:[		话题数组
					{
					title,					话题名称
					created_at,				话题创建时间
					content,				话题内容
					topicCommentCount			话题评论数
					},
					....
				]			


	2.话题动态
		请求方式:	GET
		请求url:	/user/topic/:user_id

		请求参数:	
				user_id	被访问用户id			根据id获取话题动态

		返回参数:	视图
				topics:[
					{
						title:xxx,			话题题目
						content:xxx,			话题内容
						created_at:xxx,		话题建立时间
						commentsCount:xxx		话题评论数
					},
					....
				]


	3.相册
		请求方式:	GET
		请求url:	/user/album/:user_id

		请求参数:	
				user_id	被访问用户id			根据id获取相册

		返回参数:	视图
				albums:[
					{
						title:xxx,			相册题目
						picture:xxx,			相册封面
						albumCount:xxx		相册图片数目
						},
						....
				]

	4.照片
		请求方式:	GET
		请求url:	/user/picture/:album_id

		请求参数:	
				album_id	相册的id			根据id取得图片实例

		返回参数:	视图
				pictures:[
					{
						title:xxx,			图片标题
						picture:xxx			图片的url
					},
					....
				]
	5. 获取留言
		请求方式:	GET
		请求url:	/user/message/:user_id

		请求参数:	
				user_id	被访问用户id			根据用户id获取留言

		返回参数:	视图
				messages:[
					 {
						username:xxx,			留言人姓名
						created_at:xxx,			留言时间
						content:xxx,				留言内容
						messageCommentCount:xxx	留言的回复数
					},
					....
				]

	6.获取留言的回复
		请求方式:	GET
		请求url:	/user/message_comment/:message_id

		请求参数:	
				message_id						留言的id

		返回参数:	
				message_comments:[
					{
						avatar:xxx,				回复者头像
						username:xxx,			回复者姓名
						content:xxx,				回复内容
						created_at:xxx			回复时间
					},
					....
				]

	7.获取个人资料
		请求方式:	GET
		请求url:	/user/update/:user_id

		请求参数:	
				user_id

		返回参数:	视图
				user:{	
						avatar:xxx,			头像
						realname:xxx,		真实姓名
						gender:xxx,			性别
						position:xxx,			职位
						city:xxx,			所在城市
						interests:xxx,			兴趣
						per_description:xxx		我的简介
				}
	8.发表留言
		请求方式:	POST
		请求url:	/user/personal/message

		请求参数:	
				receiver_id					被留言者id
				message_content				留言内容

		返回参数:	
				{
					errCode:xxx,			错误码	0表示返回正常	 
					message:xxx			提示信息
				},
				msg:{
						avatar:xxx,			头像
						username:xxx,		留言者姓名
						content:xxx,			内容
						created_at			留言时间
				}
		备注:登录可操作

	9.发表回复
		请求方式:	POST
		请求url:	/user/personal/message_comment

		请求参数:	
				message_id					被回复的留言的id
				comment_content				回复内容

		返回参数:	
			{
				errCode:xxx,			错误码	0表示返回正常	 
				comment:{
						avatar:xxx,			头像
						username:xxx,		回复者姓名
						content:xxx,			内容
						created_at			回复时间
				}
			}
		备注:登录可操作

	10.更新个人资料
		请求方式:	POST
		请求url:	/user/personal/update

		请求参数:	
				realname:xxx,		真实姓名
				gender:xxx,			性别
				position:xxx,			职位
				city:xxx,			所在城市
				interests:xxx,			兴趣
				per_description:xxx		我的简介

		返回参数:
			{
				errCode:xxx,			错误码	0表示返回正常	 
				message:xxx			提示信息
			}
		备注:登录可操作

	11.更换头像
		请求方式:	POST
		请求url:	/user/personal/chang_image

		请求参数:
				avatar				头像图片

		返回参数:
			{
				errCode:xxx,			错误码	0表示返回正常	 
				message:xxx			提示信息
			}
		备注:登录可操作


4.论谈模块
	1.首页协会资讯更多
		请求方式:	GET
		请求url:	customer/news

		请求参数:	无

		返回参数:	
				page:xxx			页数
				column_count:xxx		新闻条数
				columns:[
					{
					title:xxx,		文章题目
					created_at		发表时间
					},
					....
				]

	2.话题论谈
		请求方式:	GET
		请求url:	customer/news/one_topic

		请求参数:	无

		返回参数:
				topic:{
					avatar:xxx,			话题人头像
					name:xxx,			话题人名字
					title:xxx,			话题标题
					content:xxx,			话题内容
					commentCount:xxx		话题评论数
				}
				topic_comments:[
						{
						name:xxx,		话题评论人名字
						created_at:xxx,	创建时间
						content:xxx		话题评论内容
						},
						....
				]

	3.更多话题评论
		请求方式:	GET
		请求url:	customer/news/topic_comment

		请求参数:	
				topic_id				话题id

		返回参数:	
				comments:[
					{
					name:xxx,			话题评论人名字
					created_at:xxx,		创建时间
					content:xxx			话题评论内容
					},
					....
				]

	4.启蒙专栏
		请求方式:	GET
		请求url:	customer/news/column

		请求参数:	无

		返回参数：
				page:xxx			页数
				column_count:xxx		新闻条数
				columns:[
					{
					title:xxx,		文章题目
					created_at		发表时间
					},
					....
				]

	5.启蒙专栏详细信息
		请求方式:	GET
		请求url:	customer/news/column_more

		请求参数:	
				column_id			专栏文章id

		返回参数：
				column:{
					title:xxx,		题目
					created_at:xxx,	发表时间
					content:xxx		内容
				}

	6.学会动态
		请求方式:	GET
		请求url:	customer/news/society

		请求参数:	无

		返回参数:	
				page:xxx			页数
				society_count:xxx		新闻条数
				societies:[
					{
					title:xxx,		文章题目
					created_at		发表时间
					},
					....
				]


	7.学会动态详细信息
		请求方式:	GET
		请求url:	customer/news/society_more

		请求参数:	
				society_id			学会文章id

		返回参数:
				society:{
					title:xxx,		题目
					created_at:xxx,	发表时间
					content:xxx		内容
				}

	8.协会动态
		请求方式:	GET
		请求url:	customer/news/association

		请求参数:	无

		返回参数:	
				page:xxx			页数
				association_count:xxx	新闻条数
				associations:[
					{
					title:xxx,		文章题目
					created_at		发表时间
					},
					....
				]


	9.协会动态详细信息
		请求方式:	GET
		请求url:	customer/news/association_more

		请求参数:
				association_id		协会文章id

		返回参数:
				association:{
					title:xxx,		题目
					created_at:xxx,	发表时间
					content:xxx		内容
				}

